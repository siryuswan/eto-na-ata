const questions = [

    {
        "question": "The entrepreneurs who create new ideas are called?",
        "answers": [
            {"text": "Drone", "correct": false},
            {"text": "Fabian", "correct": false},
            {"text": "Imitating", "correct": false},
            {"text": "Innovative", "correct": true}
        ]
    },
    {
        "question": "The person who creates a new enterprise and embraces every challenge for its development and operation.",
        "answers": [
            {"text": "Drone", "correct": false},
            {"text": "Entrepreneur", "correct": true},
            {"text": "Entrepreneurship", "correct": false},
            {"text": "Fabian", "correct": false}
        ]
    },
    {
        "question": "When an entrepreneur can retain good relations with other people.",
        "answers": [
            {"text": "Initiative", "correct": false},
            {"text": "Perseverance", "correct": false},
            {"text": "Planner", "correct": false},
            {"text": "Problem Solver", "correct": true}
        ]
    },
    {
        "question": "Which of the following is NOT a function of an entrepreneur?",
        "answers": [
            {"text": "Risk Taking", "correct": false},
            {"text": "Conduct Research", "correct": false},
            {"text": "Skills Management", "correct": false},
            {"text": "Make no changes with his product", "correct": true}
        ]
    },
    {
        "question": "Which of the following best describe entrepreneurship?",
        "answers": [
            {"text": "Creates employment", "correct": false},
            {"text": "Empowers citizens, generates innovation and changes mindsets.", "correct": false},
            {"text": "It has the capacity for innovation, investment and creation of markets, products and techniques", "correct": false},
            {"text": "All of the above", "correct": true}
        ]
    },
    {
        "question": "It is a personality factor which means 'doing things even before being told.'",
        "answers": [
            {"text": "Initiative", "correct": true},
            {"text": "Persuasion", "correct": false},
            {"text": "Perseverance", "correct": false},
            {"text": "Proactive", "correct": false}
        ]
    },
    {
        "question": "It is a personality factor which means convincing customers to buy the product.",
        "answers": [
            {"text": "Persuasion", "correct": true},
            {"text": "Pro-active", "correct": false},
            {"text": "Risk taker", "correct": false},
            {"text": "Self-Confidence", "correct": false}
        ]
    },
    {
        "question": "Which of the choices is NOT part of the environmental factors?",
        "answers": [
            {"text": "Climate", "correct": false},
            {"text": "Political", "correct": false},
            {"text": "Weather condition", "correct": false},
            {"text": "Family background of the manager", "correct": true}
        ]
    },
    {
        "question": "All except one does NOT belong to the group?",
        "answers": [
            {"text": "Political protest", "correct": false},
            {"text": "Products", "correct": true},
            {"text": "Strikes", "correct": false},
            {"text": "Unfair trade practice", "correct": false}
        ]
    },
    {
        "question": "The entrepreneur who is skeptical about the changes in the company is called?",
        "answers": [
            {"text": "Fabian", "correct": true},
            {"text": "Domestic Helper", "correct": false},
            {"text": "Research and Development", "correct": false},
            {"text": "Social entrepreneur", "correct": false}
        ]
    },
    {
        "question": "Which is NOT a career for an entrepreneur?",
        "answers": [
            {"text": "Business consultant", "correct": false},
            {"text": "Drone", "correct": false},
            {"text": "Imitating", "correct": true},
            {"text": "Sales", "correct": false}
        ]
    },
    {
        "question": "They are entrepreneurs who drive social innovation and transformation in various fields.",
        "answers": [
            {"text": "Drone", "correct": false},
            {"text": "Fabian", "correct": false},
            {"text": "Imitating", "correct": false},
            {"text": "Social entrepreneur", "correct": true}
        ]
    },
    {
        "question": "Which of the statements below is true?",
        "answers": [
            {"text": "Entrepreneur has limited career opportunities.", "correct": false},
            {"text": "Entrepreneurs are prone to constant high income.", "correct": false},
            {"text": "Entrepreneurs are the reasons for unemployment problem.", "correct": false},
            {"text": "Entrepreneurs are contributors to the development of the society.", "correct": true}
        ]
    },
    {
        "question": "Which of the statements is NOT true?",
        "answers": [
            {"text": "Entrepreneurs are researchers", "correct": false},
            {"text": "All entrepreneurs are successful", "correct": true},
            {"text": "The profit of the entrepreneur is immediate", "correct": false},
            {"text": "An entrepreneur will patiently wait for his efforts to bear fruit.", "correct": true}
        ]
    },
    {
        "question": "In business, it is the survival of the fittest that counts. Which one of these best describes competitiveness?",
        "answers": [
            {"text": "Identify a profitable market and build your business.", "correct": false},
            {"text": "Learn self-discipline with the right information and conscious efforts.", "correct": false},
            {"text": "Make an effort to genuinely like, respect and appreciate other people.", "correct": false},
            {"text": "Play to win, but never to sacrifice your integrity for the sake of a few bucks.", "correct": true}
        ]
    },
    {
        "question": "A part of the total population that has shown some level of interest in buying a particular product or service.",
        "answers": [
            {"text": "Potential market", "correct": true},
            {"text": "Available market", "correct": false},
            {"text": "Market forget", "correct": false},
            {"text": "Market Identification", "correct": false}
        ]
    },
    {
        "question": "The number of people who are both willing and capable of buying a particular product or service in a particular market.",
        "answers": [
            {"text": "Potential market", "correct": false},
            {"text": "Available market", "correct": true},
            {"text": "Market forget", "correct": false},
            {"text": "Market Identification", "correct": false}
        ]
    },
    {
        "question": "It is the strategic marketing approach and process that is intended to define the specific customer of the product.",
        "answers": [
            {"text": "Market identification", "correct": true},
            {"text": "Market size", "correct": false},
            {"text": "Market segmentation", "correct": false},
            {"text": "Market growth", "correct": false}
        ]
    },
    {
        "question": "It is a strategy that can assist the entrepreneur in identifying the particular homogenous segment to serve.",
        "answers": [
            {"text": "Market identification", "correct": false},
            {"text": "Market segmentation", "correct": true},
            {"text": "Market size", "correct": false},
            {"text": "Market growth", "correct": false}
        ]
    },
    {
        "question": "Maria and Jose want to start their restaurant business focusing on grilled foods. Jose is thinking of an idea on limiting the market into their similarities in religion since certain religions prohibit eating specific species. He wants to find the best strategy to satisfy their needs and wants. If you were Maria, what would you recommend to Jose?",
        "answers": [
            {"text": "Demographic segmentation", "correct": true},
            {"text": "Geographic segmentation", "correct": false},
            {"text": "Behavioral segmentation", "correct": false},
            {"text": "Psychological segmentation", "correct": false}
        ]
    }
];

const questionsElement = document.getElementById("question");
const answerButtonsElement = document.getElementById("answer-buttons");
const nextButton = document.getElementById("nxt-btn");

let currentQuestionIndex = 0;
let score = 0;

function startQuiz(){
    currentQuestionIndex = 0;
    score = 0;
    nextButton.innerHTML = "Next";
    nextButton.style.display = "none";
    showQuestion();
}

function showQuestion(){
    resetState();
    let currentQuestion = questions[currentQuestionIndex];
    let questionNo = currentQuestionIndex + 1;
    questionsElement.innerHTML = questionNo + ". " + currentQuestion.question;

    currentQuestion.answers.forEach(answer => {
        const button = document.createElement("button");
        button.innerHTML = answer.text;
        button.classList.add("btn");
        if (answer.correct) {
            button.dataset.correct = answer.correct;
        }
        button.addEventListener("click", selectAnswer);
        answerButtonsElement.appendChild(button);
    });
}

function resetState(){
    nextButton.style.display = "none";
    while (answerButtonsElement.firstChild) {
        answerButtonsElement.removeChild(answerButtonsElement.firstChild);
    }
}

function selectAnswer(e){
    const selectedButton = e.target;
    const correct = selectedButton.dataset.correct === "true";
    if (correct) {
        score++;
    }
    Array.from(answerButtonsElement.children).forEach(button => {
        setStatusClass(button, button.dataset.correct === "true");
    });
    if (questions.length > currentQuestionIndex + 1) {
        nextButton.style.display = "block";
    } else {
        nextButton.innerHTML = "Restart";
        nextButton.style.display = "block";
        showScore();
    }
}

function setStatusClass(element, correct) {
    clearStatusClass(element);
    if (correct) {
        element.classList.add("correct");
    } else {
        element.classList.add("wrong");
    }
}

function clearStatusClass(element) {
    element.classList.remove("correct");
    element.classList.remove("wrong");
}

function showScore() {
    resetState();
    const percentage = (score / questions.length) * 100;
    questionsElement.innerHTML = `You scored ${score} out of ${questions.length}!<br>Accuracy: ${percentage.toFixed(2)}%`;
    nextButton.innerHTML = "Restart";
    nextButton.style.display = "block";

    // Save the accuracy score to localStorage
    localStorage.setItem("philoQuizAccuracy", percentage.toFixed(2));

    // Create and display the Home button
    const homeButton = document.createElement("button");
    homeButton.innerHTML = "Home";
    homeButton.classList.add("home");
    homeButton.addEventListener("click", () => {
        window.location.href = "testknowledge.html"; // Change this to your home page URL
    });
    document.querySelector(".bottom-part").appendChild(homeButton);
}

nextButton.addEventListener("click", () => {
    currentQuestionIndex++;
    if (currentQuestionIndex < questions.length) {
        showQuestion();
    } else {
        startQuiz();
    }
});

startQuiz();