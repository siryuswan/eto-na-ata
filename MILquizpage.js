const questions = [

    {
        "question": "Which of the following describes the capacity to read and write associated with the knowledge to determine, comprehend, explain, generate, communicate, and calculate using printed materials?",
        "answers": [
            {"text": "Media", "correct": false},
            {"text": "Literacy", "correct": true},
            {"text": "Computer", "correct": false},
            {"text": "Information", "correct": false}
        ]
    },
    {
        "question": "Which of the following is a tool or platform used to convey information or means of communication?",
        "answers": [
            {"text": "Media", "correct": true},
            {"text": "Literacy", "correct": false},
            {"text": "Computer", "correct": false},
            {"text": "Information", "correct": false}
        ]
    },
    {
        "question": "What do you call the knowledge acquired from someone or something?",
        "answers": [
            {"text": "Media", "correct": false},
            {"text": "Literacy", "correct": false},
            {"text": "Computer", "correct": false},
            {"text": "Information", "correct": true}
        ]
    },
    {
        "question": "Which of these is characterized by an individual's ability to understand the functions of media and determine the relevant use and worth of media platforms?",
        "answers": [
            {"text": "Media Literacy", "correct": true},
            {"text": "Computer Literacy", "correct": false},
            {"text": "Technology Literacy", "correct": false},
            {"text": "Information Literacy", "correct": false}
        ]
    },
    {
        "question": "Which of the following describes an individual who knows how to manipulate technology independently or with the assistance of others in using the technology efficiently and suitably?",
        "answers": [
            {"text": "Media Literate", "correct": false},
            {"text": "Computer Literate", "correct": false},
            {"text": "Technology Literate", "correct": true},
            {"text": "Information Literate", "correct": false}
        ]
    },
    {
        "question": "Which of the following refers to the ability to transmit communication or acquiring data or facts that relate to the use of media information?",
        "answers": [
            {"text": "Media Literacy", "correct": false},
            {"text": "Computer Literacy", "correct": false},
            {"text": "Technology Literacy", "correct": false},
            {"text": "Information Literacy", "correct": true}
        ]
    },
    {
        "question": "What do you call the equipment or method that is useful to people's daily activities?",
        "answers": [
            {"text": "Media", "correct": false},
            {"text": "Internet", "correct": false},
            {"text": "Computer", "correct": false},
            {"text": "Technology", "correct": true}
        ]
    },
    {
        "question": "Which are the necessary skills that let a person interact using different kinds of media and access information around the globe?",
        "answers": [
            {"text": "Media and Information Literacy", "correct": true},
            {"text": "Computer and Technology Literacy", "correct": false},
            {"text": "Information and Technology Literacy", "correct": false},
            {"text": "Information and Communication Literacy", "correct": false}
        ]
    },
    {
        "question": "What electronic machine is used to store and work with a large amount of information?",
        "answers": [
            {"text": "Media", "correct": false},
            {"text": "Internet", "correct": false},
            {"text": "Computer", "correct": true},
            {"text": "Technology", "correct": false}
        ]
    },
    {
        "question": "What do you call the globally connected network system that uses TCP/IP to transmit data via various types of media?",
        "answers": [
            {"text": "Media", "correct": false},
            {"text": "Internet", "correct": true},
            {"text": "Computer", "correct": false},
            {"text": "Technology", "correct": false}
        ]
    },
    {
        "question": "What do you call the present time when technological advancement is inevitable, and access to information is easy with the aid of technology?",
        "answers": [
            {"text": "Industrial Age", "correct": false},
            {"text": "Electronic Age", "correct": false},
            {"text": "Prehistoric Age", "correct": false},
            {"text": "New Information Age", "correct": true}
        ]
    },
    {
        "question": "Which of the following is not a form of social media?",
        "answers": [
            {"text": "Twitter", "correct": false},
            {"text": "Google", "correct": true},
            {"text": "Facebook", "correct": false},
            {"text": "Instagram", "correct": false}
        ]
    },
    {
        "question": "What do you call a person who has gained many subscribers and followers, and is being paid by YouTube through advertisements and commercials placed in their Vlogs or YouTube Channels?",
        "answers": [
            {"text": "Netizen", "correct": false},
            {"text": "Blogger", "correct": true},
            {"text": "Media Influencer", "correct": false},
            {"text": "Internet Sensation", "correct": false}
        ]
    },
    
    {
        "question": "Which of the following statements is NOT true about the community today?",
        "answers": [
            {"text": "We now have access to fast and easy form of communication services", "correct": false},
            {"text": "Communication in the modern period is susceptible to media and information", "correct": false},
            {"text": "Social media forms of communication always have a positive effect to a person in terms of personal relationships", "correct": true},
            {"text": "Media users and contributors must be mindful in taking advantage", "correct": false}
        ]
    },
    
    {
        "question": "Media and information literacy are important skills that we need to develop for us to take advantage of the use and benefits of technology in the modern society. The statement is._______?",
        "answers": [
            {"text": "Belief", "correct": false},
            {"text": "Factual", "correct": true},
            {"text": "Opinion", "correct": false},
            {"text": "Fallacious", "correct": false}
        ]
    },

    {
        question: "Which of the following is true about literacy?",
        answer:[
            {text: "A knowledge acquired from someone or something", correct: false},
            {text: "An equipment or method that is useful to people daily activities", correct: false},
            {text: "The ability to read and write associated with knowledge", correct: true},
            {text: "The platform used to convey information or means of communication", correct: false}
        ]
    },

    {
        question: "Which of the following describes media?",
        answer:[
            {text: "A knowledge acquired from someone or something", correct: false},
            {text: "An equipment or method that is useful to people daily activities", correct: false},
            {text: "The ability to read and write associated with knowledge", correct: false},
            {text: "The platform used to convey information or means of communication", correct: true}
        ]
    },
    {
        question: "Which of the following tells about information?",
        answer: [
            {text: "A knowledge acquired from someone or something", correct: true},
            {text: "An equipment or method that is useful to people daily activities", correct: false},
            {text: "The ability to read and write associated with knowledge", correct: false},
            {text: "The platform used to convey information or means of communication", correct: false}
        ]
    },
    {
        question: "Which of the following denotes the meaning of media literacy?",
        answer: [
            {text: "The capacity of an individual to understand the functions and relevant uses of media platforms", correct: true},
            {text: "The ability to manipulate technology independently or with the assistance of others", correct: false},
            {text: "The skills that allow a person to interact and access information using different kinds of webs", correct: false},
            {text: "Transmitting communication or acquiring facts that relate to the use of media information", correct: false}
        ]
    },
    {
        question: "Which of the following describes a person who is considered as technology literate?",
        answer: [
            {text: "He/she communicates and acquires facts that are related to the use of media information", correct: false},
            {text: "He/she can manipulate technology independently or with the assistance of others.", correct: true},
            {text: "He/she can understand the functions and relevant use of media platforms", correct: false},
            {text: "He/she has the skills that allow a person to interact and access information using different kinds of social media.", correct: false}
        ]
    
    }

];

const questionsElement = document.getElementById("question");
const answerButtonsElement = document.getElementById("answer-buttons");
const nextButton = document.getElementById("nxt-btn");

let currentQuestionIndex = 0;
let score = 0;

function startQuiz(){
    currentQuestionIndex = 0;
    score = 0;
    nextButton.innerHTML = "Next";
    nextButton.style.display = "none";
    showQuestion();
}

function showQuestion(){
    resetState();
    let currentQuestion = questions[currentQuestionIndex];
    let questionNo = currentQuestionIndex + 1;
    questionsElement.innerHTML = questionNo + ". " + currentQuestion.question;

    currentQuestion.answers.forEach(answer => {
        const button = document.createElement("button");
        button.innerHTML = answer.text;
        button.classList.add("btn");
        if (answer.correct) {
            button.dataset.correct = answer.correct;
        }
        button.addEventListener("click", selectAnswer);
        answerButtonsElement.appendChild(button);
    });
}

function resetState(){
    nextButton.style.display = "none";
    while (answerButtonsElement.firstChild) {
        answerButtonsElement.removeChild(answerButtonsElement.firstChild);
    }
}

function selectAnswer(e){
    const selectedButton = e.target;
    const correct = selectedButton.dataset.correct === "true";
    if (correct) {
        score++;
    }
    Array.from(answerButtonsElement.children).forEach(button => {
        setStatusClass(button, button.dataset.correct === "true");
    });
    if (questions.length > currentQuestionIndex + 1) {
        nextButton.style.display = "block";
    } else {
        nextButton.innerHTML = "Restart";
        nextButton.style.display = "block";
        showScore();
    }
}

function setStatusClass(element, correct) {
    clearStatusClass(element);
    if (correct) {
        element.classList.add("correct");
    } else {
        element.classList.add("wrong");
    }
}

function clearStatusClass(element) {
    element.classList.remove("correct");
    element.classList.remove("wrong");
}

function showScore() {
    resetState();
    const percentage = (score / questions.length) * 100;
    questionsElement.innerHTML = `You scored ${score} out of ${questions.length}!<br>Accuracy: ${percentage.toFixed(2)}%`;
    nextButton.innerHTML = "Restart";
    nextButton.style.display = "block";

    // Save the accuracy score to localStorage
    localStorage.setItem("philoQuizAccuracy", percentage.toFixed(2));

    // Create and display the Home button
    const homeButton = document.createElement("button");
    homeButton.innerHTML = "Home";
    homeButton.classList.add("home");
    homeButton.addEventListener("click", () => {
        window.location.href = "testknowledge.html"; // Change this to your home page URL
    });
    document.querySelector(".bottom-part").appendChild(homeButton);
}

nextButton.addEventListener("click", () => {
    currentQuestionIndex++;
    if (currentQuestionIndex < questions.length) {
        showQuestion();
    } else {
        startQuiz();
    }
});

startQuiz();